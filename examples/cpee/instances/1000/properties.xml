<?xml version="1.0"?>
<properties xmlns="http://riddl.org/ns/common-patterns/properties/1.0">
  <name>Enter name here</name>
  <state>stopped</state>
  <handlerwrapper>RescueHandlerWrapper</handlerwrapper>
  <status>
    <id>0</id>
    <message>undefined</message>
  </status>
  <positions>
    <inner_1_1__simple_operation xmlns="http://riddl.org/ns/common-patterns/properties/1.0">after</inner_1_1__simple_operation>
  </positions>
  <context-variables>
    <result_inner_1_1>!map:RescueHash {}
</result_inner_1_1>
    <outer>1
</outer>
    <count>8
</count>
    <inner>1
</inner>
    <properties_inner_1_1>!map:RescueHash {:simple_operation: !map:RescueHash {}}
</properties_inner_1_1>
  </context-variables>
  <endpoints>
    <timeout>http://www.pri.univie.ac.at/~mangler/services/timeout.php</timeout>
    <services>http://localhost:9290/groups/Interface</services>
    <injection>http://localhost:9290/injection/handler</injection>
  </endpoints>
  <dsl># ========== Code was injected via: inner==========
  activity :outer_0, :call, :timeout, :method =&gt; "post", :parameters =&gt; [ { :wait =&gt; context.count } ]
  # ========== Code was injected via: inner_0==========
    activity :inner_0_0, :call, :services, :service =&gt; [ { :serviceoperation =&gt; "simple" }, { :injection_handler =&gt; endpoints.injection } ], :parameters =&gt; [ { :wait =&gt; context.inner } ]
    # ========== Code was injected via: inner_0==========
      activity :create_objects_for_inner_0_0, :manipulate do 
      context.properties_inner_0_0 = RescueHash.new
      context.properties_inner_0_0[:"simple_operation"] = RescueHash.new
      context.result_inner_0_0 = RescueHash.new

      end
      activity :inner_0_0__simple_operation, :call, :services, :service =&gt; [ { :serviceoperation =&gt; "simple" }, { :injection_handler =&gt; endpoints.injection } ], :parameters =&gt; [ { :wait =&gt; context.inner } ]
      # ========== Code was injected via: inner_0_0__simple_operation==========
        parallel do
          parallel_branch do
            activity :create_objects_for_inner_0_0__simple_operation_service_http___localhost_9290_groups_Interface__Sub1_Serv1, :manipulate do 
              context.result_inner_0_0[:"http://localhost:9290/groups/Interface//Sub1/Serv1"] = RescueHash.new
              endpoints.inner_0_0__simple_operation__http___localhost_9290_groups_Interface__Sub1_Serv1__ep = "http://www.pri.univie.ac.at/~mangler/services/timeout.php"
              context.inner_0_0__simple_operation__http___localhost_9290_groups_Interface__Sub1_Serv1__wait = 2
              # Filling the properties-object of the service
              context.properties_inner_0_0[:"simple_operation"][:"http://localhost:9290/groups/Interface//Sub1/Serv1"] = RescueHash.new
              context.properties_inner_0_0[:"simple_operation"][:"http://localhost:9290/groups/Interface//Sub1/Serv1"][:"property_A"] = "17"
              context.properties_inner_0_0[:"simple_operation"][:"http://localhost:9290/groups/Interface//Sub1/Serv1"][:"property_B"] = "47"
              context.properties_inner_0_0[:"simple_operation"][:"http://localhost:9290/groups/Interface//Sub1/Serv1"][:"property_C"] = "11"

            end
            activity :inner_0_0__simple_operation__http___localhost_9290_groups_Interface__Sub1_Serv1__s1_op1, :call, :inner_0_0__simple_operation__http___localhost_9290_groups_Interface__Sub1_Serv1__ep, :method =&gt; "post", :parameters =&gt; [ { :timeout =&gt; context.inner } ]
            activity :inner_0_0__simple_operation__http___localhost_9290_groups_Interface__Sub1_Serv1__set_output, :manipulate do 

          out = 2
        context.result_inner_0_0[:"http://localhost:9290/groups/Interface//Sub1/Serv1"][:simple_output] = out

            end
            activity :remove_objects_of_inner_0_0__simple_operation_service_http___localhost_9290_groups_Interface__Sub1_Serv1, :manipulate do 
              endpoints.delete(:"inner_0_0__simple_operation__http___localhost_9290_groups_Interface__Sub1_Serv1__ep")
              context.delete(:"inner_0_0__simple_operation__http___localhost_9290_groups_Interface__Sub1_Serv1__wait")

            end
          end
          parallel_branch do
            activity :create_objects_for_inner_0_0__simple_operation_service_http___localhost_9290_groups_Interface__Sub2_Serv1, :manipulate do 
              context.result_inner_0_0[:"http://localhost:9290/groups/Interface//Sub2/Serv1"] = RescueHash.new
              endpoints.inner_0_0__simple_operation__http___localhost_9290_groups_Interface__Sub2_Serv1__ep = "http://www.pri.univie.ac.at/~mangler/services/timeout.php"
              context.inner_0_0__simple_operation__http___localhost_9290_groups_Interface__Sub2_Serv1__wait = 2
              # Filling the properties-object of the service
              context.properties_inner_0_0[:"simple_operation"][:"http://localhost:9290/groups/Interface//Sub2/Serv1"] = RescueHash.new
              context.properties_inner_0_0[:"simple_operation"][:"http://localhost:9290/groups/Interface//Sub2/Serv1"][:"property_A"] = "71"
              context.properties_inner_0_0[:"simple_operation"][:"http://localhost:9290/groups/Interface//Sub2/Serv1"][:"property_B"] = "74"
              context.properties_inner_0_0[:"simple_operation"][:"http://localhost:9290/groups/Interface//Sub2/Serv1"][:"property_C"] = "11"

            end
            activity :inner_0_0__simple_operation__http___localhost_9290_groups_Interface__Sub2_Serv1__s1_op1, :call, :inner_0_0__simple_operation__http___localhost_9290_groups_Interface__Sub2_Serv1__ep, :method =&gt; "post", :parameters =&gt; [ { :timeout =&gt; context.inner } ]
            activity :inner_0_0__simple_operation__http___localhost_9290_groups_Interface__Sub2_Serv1__set_output, :manipulate do 

          out = 2
        context.result_inner_0_0[:"http://localhost:9290/groups/Interface//Sub2/Serv1"][:simple_output] = out

            end
            activity :remove_objects_of_inner_0_0__simple_operation_service_http___localhost_9290_groups_Interface__Sub2_Serv1, :manipulate do 
              endpoints.delete(:"inner_0_0__simple_operation__http___localhost_9290_groups_Interface__Sub2_Serv1__ep")
              context.delete(:"inner_0_0__simple_operation__http___localhost_9290_groups_Interface__Sub2_Serv1__wait")

            end
          end
        end

# ========== End of injected code ============ 
      activity :manipulate_from_inner_0_0__simple_operation, :manipulate, nil,context.result_inner_0_0,context.properties_inner_0_0 do |result, properties|
context.result_inner_0_0[:simple_class_output] = result.value('simple_output')

      end

# ========== End of injected code ============ 
    activity :manipulate_from_inner_0_0, :manipulate, nil,context.result_inner_0_0,context.properties_inner_0_0 do |result, properties|

            result.value('simple_class_output').each { |value| context.count += value}
          
    end
    activity :remove_objects_of_inner_0_0, :manipulate do 
    context.delete(:"properties_inner_0_0")
    context.delete(:"result_inner_0_0")

    end
    activity :reduce_inner_0_0, :manipulate do 

          context.inner -= 1
        
    end
    activity :native_0_0, :call, :timeout, :method =&gt; "post", :parameters =&gt; [ { :wait =&gt; context.count } ]

# ========== End of injected code ============ 
  loop pre_test{context.inner &gt; 0} do
    activity :inner_0, :call, :services, :service =&gt; [ { :serviceoperation =&gt; "simple" }, { :injection_handler =&gt; endpoints.injection } ], :parameters =&gt; [ { :wait =&gt; context.inner } ] do |result|

            result.value('simple_class_output').each { |value| context.count += value}
          
    end
    activity :reduce_inner_0, :manipulate do 

          context.inner -= 1
        
    end
    activity :native_0, :call, :timeout, :method =&gt; "post", :parameters =&gt; [ { :wait =&gt; context.count } ]
  end
  activity :reduce_outer_0, :manipulate do 

        context.outer -= 1
        context.inner = 2
      
  end

# ========== End of injected code ============ 
# ========== Code was injected via: inner==========
  activity :outer_1, :call, :timeout, :method =&gt; "post", :parameters =&gt; [ { :wait =&gt; context.count } ]
  # ========== Code was injected via: inner_1==========
    activity :inner_1_0, :call, :services, :service =&gt; [ { :serviceoperation =&gt; "simple" }, { :injection_handler =&gt; endpoints.injection } ], :parameters =&gt; [ { :wait =&gt; context.inner } ]
    # ========== Code was injected via: inner_1==========
      activity :create_objects_for_inner_1_0, :manipulate do 
      context.properties_inner_1_0 = RescueHash.new
      context.properties_inner_1_0[:"simple_operation"] = RescueHash.new
      context.result_inner_1_0 = RescueHash.new

      end
      activity :inner_1_0__simple_operation, :call, :services, :service =&gt; [ { :serviceoperation =&gt; "simple" }, { :injection_handler =&gt; endpoints.injection } ], :parameters =&gt; [ { :wait =&gt; context.inner } ]
      # ========== Code was injected via: inner_1_0__simple_operation==========
        parallel do
          parallel_branch do
            activity :create_objects_for_inner_1_0__simple_operation_service_http___localhost_9290_groups_Interface__Sub1_Serv1, :manipulate do 
              context.result_inner_1_0[:"http://localhost:9290/groups/Interface//Sub1/Serv1"] = RescueHash.new
              endpoints.inner_1_0__simple_operation__http___localhost_9290_groups_Interface__Sub1_Serv1__ep = "http://www.pri.univie.ac.at/~mangler/services/timeout.php"
              context.inner_1_0__simple_operation__http___localhost_9290_groups_Interface__Sub1_Serv1__wait = 2
              # Filling the properties-object of the service
              context.properties_inner_1_0[:"simple_operation"][:"http://localhost:9290/groups/Interface//Sub1/Serv1"] = RescueHash.new
              context.properties_inner_1_0[:"simple_operation"][:"http://localhost:9290/groups/Interface//Sub1/Serv1"][:"property_A"] = "17"
              context.properties_inner_1_0[:"simple_operation"][:"http://localhost:9290/groups/Interface//Sub1/Serv1"][:"property_B"] = "47"
              context.properties_inner_1_0[:"simple_operation"][:"http://localhost:9290/groups/Interface//Sub1/Serv1"][:"property_C"] = "11"

            end
            activity :inner_1_0__simple_operation__http___localhost_9290_groups_Interface__Sub1_Serv1__s1_op1, :call, :inner_1_0__simple_operation__http___localhost_9290_groups_Interface__Sub1_Serv1__ep, :method =&gt; "post", :parameters =&gt; [ { :timeout =&gt; context.inner } ]
            activity :inner_1_0__simple_operation__http___localhost_9290_groups_Interface__Sub1_Serv1__set_output, :manipulate do 

          out = 2
        context.result_inner_1_0[:"http://localhost:9290/groups/Interface//Sub1/Serv1"][:simple_output] = out

            end
            activity :remove_objects_of_inner_1_0__simple_operation_service_http___localhost_9290_groups_Interface__Sub1_Serv1, :manipulate do 
              endpoints.delete(:"inner_1_0__simple_operation__http___localhost_9290_groups_Interface__Sub1_Serv1__ep")
              context.delete(:"inner_1_0__simple_operation__http___localhost_9290_groups_Interface__Sub1_Serv1__wait")

            end
          end
          parallel_branch do
            activity :create_objects_for_inner_1_0__simple_operation_service_http___localhost_9290_groups_Interface__Sub2_Serv1, :manipulate do 
              context.result_inner_1_0[:"http://localhost:9290/groups/Interface//Sub2/Serv1"] = RescueHash.new
              endpoints.inner_1_0__simple_operation__http___localhost_9290_groups_Interface__Sub2_Serv1__ep = "http://www.pri.univie.ac.at/~mangler/services/timeout.php"
              context.inner_1_0__simple_operation__http___localhost_9290_groups_Interface__Sub2_Serv1__wait = 2
              # Filling the properties-object of the service
              context.properties_inner_1_0[:"simple_operation"][:"http://localhost:9290/groups/Interface//Sub2/Serv1"] = RescueHash.new
              context.properties_inner_1_0[:"simple_operation"][:"http://localhost:9290/groups/Interface//Sub2/Serv1"][:"property_A"] = "71"
              context.properties_inner_1_0[:"simple_operation"][:"http://localhost:9290/groups/Interface//Sub2/Serv1"][:"property_B"] = "74"
              context.properties_inner_1_0[:"simple_operation"][:"http://localhost:9290/groups/Interface//Sub2/Serv1"][:"property_C"] = "11"

            end
            activity :inner_1_0__simple_operation__http___localhost_9290_groups_Interface__Sub2_Serv1__s1_op1, :call, :inner_1_0__simple_operation__http___localhost_9290_groups_Interface__Sub2_Serv1__ep, :method =&gt; "post", :parameters =&gt; [ { :timeout =&gt; context.inner } ]
            activity :inner_1_0__simple_operation__http___localhost_9290_groups_Interface__Sub2_Serv1__set_output, :manipulate do 

          out = 2
        context.result_inner_1_0[:"http://localhost:9290/groups/Interface//Sub2/Serv1"][:simple_output] = out

            end
            activity :remove_objects_of_inner_1_0__simple_operation_service_http___localhost_9290_groups_Interface__Sub2_Serv1, :manipulate do 
              endpoints.delete(:"inner_1_0__simple_operation__http___localhost_9290_groups_Interface__Sub2_Serv1__ep")
              context.delete(:"inner_1_0__simple_operation__http___localhost_9290_groups_Interface__Sub2_Serv1__wait")

            end
          end
        end

# ========== End of injected code ============ 
      activity :manipulate_from_inner_1_0__simple_operation, :manipulate, nil,context.result_inner_1_0,context.properties_inner_1_0 do |result, properties|
context.result_inner_1_0[:simple_class_output] = result.value('simple_output')

      end

# ========== End of injected code ============ 
    activity :manipulate_from_inner_1_0, :manipulate, nil,context.result_inner_1_0,context.properties_inner_1_0 do |result, properties|

            result.value('simple_class_output').each { |value| context.count += value}
          
    end
    activity :remove_objects_of_inner_1_0, :manipulate do 
    context.delete(:"properties_inner_1_0")
    context.delete(:"result_inner_1_0")

    end
    activity :reduce_inner_1_0, :manipulate do 

          context.inner -= 1
        
    end
    activity :native_1_0, :call, :timeout, :method =&gt; "post", :parameters =&gt; [ { :wait =&gt; context.count } ]

# ========== End of injected code ============ 
  # ========== Code was injected via: inner_1==========
    activity :inner_1_1, :call, :services, :service =&gt; [ { :serviceoperation =&gt; "simple" }, { :injection_handler =&gt; endpoints.injection } ], :parameters =&gt; [ { :wait =&gt; context.inner } ]
    # ========== Code was injected via: inner_1==========
      activity :create_objects_for_inner_1_1, :manipulate do 
      context.properties_inner_1_1 = RescueHash.new
      context.properties_inner_1_1[:"simple_operation"] = RescueHash.new
      context.result_inner_1_1 = RescueHash.new

      end
      activity :inner_1_1__simple_operation, :call, :services, :service =&gt; [ { :serviceoperation =&gt; "simple" }, { :injection_handler =&gt; endpoints.injection } ], :parameters =&gt; [ { :wait =&gt; context.inner } ]
      # ========== Code was injected via: inner_1_1__simple_operation==========
        parallel do
          parallel_branch do
            activity :create_objects_for_inner_1_1__simple_operation_service_http___localhost_9290_groups_Interface__Sub1_Serv1, :manipulate do 
              context.result_inner_1_1[:"http://localhost:9290/groups/Interface//Sub1/Serv1"] = RescueHash.new
              endpoints.inner_1_1__simple_operation__http___localhost_9290_groups_Interface__Sub1_Serv1__ep = "http://www.pri.univie.ac.at/~mangler/services/timeout.php"
              context.inner_1_1__simple_operation__http___localhost_9290_groups_Interface__Sub1_Serv1__wait = 2
              # Filling the properties-object of the service
              context.properties_inner_1_1[:"simple_operation"][:"http://localhost:9290/groups/Interface//Sub1/Serv1"] = RescueHash.new
              context.properties_inner_1_1[:"simple_operation"][:"http://localhost:9290/groups/Interface//Sub1/Serv1"][:"property_A"] = "17"
              context.properties_inner_1_1[:"simple_operation"][:"http://localhost:9290/groups/Interface//Sub1/Serv1"][:"property_B"] = "47"
              context.properties_inner_1_1[:"simple_operation"][:"http://localhost:9290/groups/Interface//Sub1/Serv1"][:"property_C"] = "11"

            end
            activity :inner_1_1__simple_operation__http___localhost_9290_groups_Interface__Sub1_Serv1__s1_op1, :call, :inner_1_1__simple_operation__http___localhost_9290_groups_Interface__Sub1_Serv1__ep, :method =&gt; "post", :parameters =&gt; [ { :timeout =&gt; context.inner } ]
            activity :inner_1_1__simple_operation__http___localhost_9290_groups_Interface__Sub1_Serv1__set_output, :manipulate do 

          out = 2
        context.result_inner_1_1[:"http://localhost:9290/groups/Interface//Sub1/Serv1"][:simple_output] = out

            end
            activity :remove_objects_of_inner_1_1__simple_operation_service_http___localhost_9290_groups_Interface__Sub1_Serv1, :manipulate do 
              endpoints.delete(:"inner_1_1__simple_operation__http___localhost_9290_groups_Interface__Sub1_Serv1__ep")
              context.delete(:"inner_1_1__simple_operation__http___localhost_9290_groups_Interface__Sub1_Serv1__wait")

            end
          end
          parallel_branch do
            activity :create_objects_for_inner_1_1__simple_operation_service_http___localhost_9290_groups_Interface__Sub2_Serv1, :manipulate do 
              context.result_inner_1_1[:"http://localhost:9290/groups/Interface//Sub2/Serv1"] = RescueHash.new
              endpoints.inner_1_1__simple_operation__http___localhost_9290_groups_Interface__Sub2_Serv1__ep = "http://www.pri.univie.ac.at/~mangler/services/timeout.php"
              context.inner_1_1__simple_operation__http___localhost_9290_groups_Interface__Sub2_Serv1__wait = 2
              # Filling the properties-object of the service
              context.properties_inner_1_1[:"simple_operation"][:"http://localhost:9290/groups/Interface//Sub2/Serv1"] = RescueHash.new
              context.properties_inner_1_1[:"simple_operation"][:"http://localhost:9290/groups/Interface//Sub2/Serv1"][:"property_A"] = "71"
              context.properties_inner_1_1[:"simple_operation"][:"http://localhost:9290/groups/Interface//Sub2/Serv1"][:"property_B"] = "74"
              context.properties_inner_1_1[:"simple_operation"][:"http://localhost:9290/groups/Interface//Sub2/Serv1"][:"property_C"] = "11"

            end
            activity :inner_1_1__simple_operation__http___localhost_9290_groups_Interface__Sub2_Serv1__s1_op1, :call, :inner_1_1__simple_operation__http___localhost_9290_groups_Interface__Sub2_Serv1__ep, :method =&gt; "post", :parameters =&gt; [ { :timeout =&gt; context.inner } ]
            activity :inner_1_1__simple_operation__http___localhost_9290_groups_Interface__Sub2_Serv1__set_output, :manipulate do 

          out = 2
        context.result_inner_1_1[:"http://localhost:9290/groups/Interface//Sub2/Serv1"][:simple_output] = out

            end
            activity :remove_objects_of_inner_1_1__simple_operation_service_http___localhost_9290_groups_Interface__Sub2_Serv1, :manipulate do 
              endpoints.delete(:"inner_1_1__simple_operation__http___localhost_9290_groups_Interface__Sub2_Serv1__ep")
              context.delete(:"inner_1_1__simple_operation__http___localhost_9290_groups_Interface__Sub2_Serv1__wait")

            end
          end
        end

# ========== End of injected code ============ 
      activity :manipulate_from_inner_1_1__simple_operation, :manipulate, nil,context.result_inner_1_1,context.properties_inner_1_1 do |result, properties|
context.result_inner_1_1[:simple_class_output] = result.value('simple_output')

      end

# ========== End of injected code ============ 
    activity :manipulate_from_inner_1_1, :manipulate, nil,context.result_inner_1_1,context.properties_inner_1_1 do |result, properties|

            result.value('simple_class_output').each { |value| context.count += value}
          
    end
    activity :remove_objects_of_inner_1_1, :manipulate do 
    context.delete(:"properties_inner_1_1")
    context.delete(:"result_inner_1_1")

    end
    activity :reduce_inner_1_1, :manipulate do 

          context.inner -= 1
        
    end
    activity :native_1_1, :call, :timeout, :method =&gt; "post", :parameters =&gt; [ { :wait =&gt; context.count } ]

# ========== End of injected code ============ 
  loop pre_test{context.inner &gt; 0} do
    activity :inner_1, :call, :services, :service =&gt; [ { :serviceoperation =&gt; "simple" }, { :injection_handler =&gt; endpoints.injection } ], :parameters =&gt; [ { :wait =&gt; context.inner } ] do |result|

            result.value('simple_class_output').each { |value| context.count += value}
          
    end
    activity :reduce_inner_1, :manipulate do 

          context.inner -= 1
        
    end
    activity :native_1, :call, :timeout, :method =&gt; "post", :parameters =&gt; [ { :wait =&gt; context.count } ]
  end
  activity :reduce_outer_1, :manipulate do 

        context.outer -= 1
        context.inner = 2
      
  end

# ========== End of injected code ============ 
loop pre_test{context.outer &gt; 0} do
  activity :outer, :call, :timeout, :method =&gt; "post", :parameters =&gt; [ { :wait =&gt; context.count } ]
  loop pre_test{context.inner &gt; 0} do
    activity :inner, :call, :services, :service =&gt; [ { :serviceoperation =&gt; "simple" }, { :injection_handler =&gt; endpoints.injection } ], :parameters =&gt; [ { :wait =&gt; context.inner } ] do |result|

            result.value('simple_class_output').each { |value| context.count += value}
          
    end
    activity :reduce_inner, :manipulate do 

          context.inner -= 1
        
    end
    activity :native, :call, :timeout, :method =&gt; "post", :parameters =&gt; [ { :wait =&gt; context.count } ]
  end
  activity :reduce_outer, :manipulate do 

        context.outer -= 1
        context.inner = 2
      
  end
end
activity :loop, :call, :services, :service =&gt; [ { :serviceoperation =&gt; "loop" }, { :injection_handler =&gt; endpoints.injection } ], :parameters =&gt; [ { :wait =&gt; context.inner } ] do |result|

        result.value('counted_loop').each { |value| context.count += value}
      
end
</dsl>
  <description>
    <description xmlns="http://cpee.org/ns/description/1.0">
      <group type="loop" cycle="0" source="inner">
        <call xmlns="http://cpee.org/ns/description/1.0" id="outer_0" endpoint="timeout">
          <parameters>
            <method>post</method>
            <parameters>
              <wait type="symbolic">context.count</wait>
            </parameters>
          </parameters>
        </call>
        <group type="loop" cycle="0" source="inner_0">
          <call xmlns="http://cpee.org/ns/description/1.0" id="inner_0_0" endpoint="services">
            <parameters>
              <service>
                <serviceoperation>"simple"</serviceoperation>
                <injection_handler>endpoints.injection</injection_handler>
              </service>
              <parameters>
                <wait type="symbolic">context.inner</wait>
              </parameters>
            </parameters>
            <group type="injection" serviceoperation="&quot;simple&quot;" source="inner" result="context.result_inner" properties="context.properties_inner"/>
            <group type="injection" serviceoperation="&quot;simple&quot;" source="inner_0" result="context.result_inner_0" properties="context.properties_inner_0"/>
          </call>
          <group type="injection" serviceoperation="&quot;simple&quot;" source="inner_0" result="context.result_inner_0_0" properties="context.properties_inner_0_0">
            <manipulate generated="true" id="create_objects_for_inner_0_0">      context.properties_inner_0_0 = RescueHash.new
      context.properties_inner_0_0[:"simple_operation"] = RescueHash.new
      context.result_inner_0_0 = RescueHash.new
</manipulate>
            <call xmlns="http://cpee.org/ns/description/1.0" id="inner_0_0__simple_operation" endpoint="services" oid="simple_operation">
              <parameters>
                <service>
                  <serviceoperation>"simple"</serviceoperation>
                  <injection_handler>endpoints.injection</injection_handler>
                </service>
                <parameters>
                  <wait>context.inner</wait>
                </parameters>
              </parameters>
            </call>
            <group type="injection" serviceoperation="&quot;simple&quot;" source="inner_0_0__simple_operation" properties="context.properties_inner_0_0[:&quot;simple_operation&quot;]">
              <parallel generated="true">
                <parallel_branch generated="true">
                  <manipulate generated="true" id="create_objects_for_inner_0_0__simple_operation_service_http___localhost_9290_groups_Interface__Sub1_Serv1">              context.result_inner_0_0[:"http://localhost:9290/groups/Interface//Sub1/Serv1"] = RescueHash.new
              endpoints.inner_0_0__simple_operation__http___localhost_9290_groups_Interface__Sub1_Serv1__ep = "http://www.pri.univie.ac.at/~mangler/services/timeout.php"
              context.inner_0_0__simple_operation__http___localhost_9290_groups_Interface__Sub1_Serv1__wait = 2
              # Filling the properties-object of the service
              context.properties_inner_0_0[:"simple_operation"][:"http://localhost:9290/groups/Interface//Sub1/Serv1"] = RescueHash.new
              context.properties_inner_0_0[:"simple_operation"][:"http://localhost:9290/groups/Interface//Sub1/Serv1"][:"property_A"] = "17"
              context.properties_inner_0_0[:"simple_operation"][:"http://localhost:9290/groups/Interface//Sub1/Serv1"][:"property_B"] = "47"
              context.properties_inner_0_0[:"simple_operation"][:"http://localhost:9290/groups/Interface//Sub1/Serv1"][:"property_C"] = "11"
</manipulate>
                  <call xmlns="http://cpee.org/ns/description/1.0" id="inner_0_0__simple_operation__http___localhost_9290_groups_Interface__Sub1_Serv1__s1_op1" endpoint="inner_0_0__simple_operation__http___localhost_9290_groups_Interface__Sub1_Serv1__ep" oid="">
                    <parameters>
                      <method>post</method>
                      <parameters>
                        <timeout>context.inner</timeout>
                      </parameters>
                    </parameters>
                  </call>
                  <manipulate xmlns="http://cpee.org/ns/description/1.0" id="inner_0_0__simple_operation__http___localhost_9290_groups_Interface__Sub1_Serv1__set_output">
          out = 2
        context.result_inner_0_0[:"http://localhost:9290/groups/Interface//Sub1/Serv1"][:simple_output] = out
</manipulate>
                  <manipulate generated="true" id="remove_objects_of_inner_0_0__simple_operation_service_http___localhost_9290_groups_Interface__Sub1_Serv1">              endpoints.delete(:"inner_0_0__simple_operation__http___localhost_9290_groups_Interface__Sub1_Serv1__ep")
              context.delete(:"inner_0_0__simple_operation__http___localhost_9290_groups_Interface__Sub1_Serv1__wait")
</manipulate>
                </parallel_branch>
                <parallel_branch generated="true">
                  <manipulate generated="true" id="create_objects_for_inner_0_0__simple_operation_service_http___localhost_9290_groups_Interface__Sub2_Serv1">              context.result_inner_0_0[:"http://localhost:9290/groups/Interface//Sub2/Serv1"] = RescueHash.new
              endpoints.inner_0_0__simple_operation__http___localhost_9290_groups_Interface__Sub2_Serv1__ep = "http://www.pri.univie.ac.at/~mangler/services/timeout.php"
              context.inner_0_0__simple_operation__http___localhost_9290_groups_Interface__Sub2_Serv1__wait = 2
              # Filling the properties-object of the service
              context.properties_inner_0_0[:"simple_operation"][:"http://localhost:9290/groups/Interface//Sub2/Serv1"] = RescueHash.new
              context.properties_inner_0_0[:"simple_operation"][:"http://localhost:9290/groups/Interface//Sub2/Serv1"][:"property_A"] = "71"
              context.properties_inner_0_0[:"simple_operation"][:"http://localhost:9290/groups/Interface//Sub2/Serv1"][:"property_B"] = "74"
              context.properties_inner_0_0[:"simple_operation"][:"http://localhost:9290/groups/Interface//Sub2/Serv1"][:"property_C"] = "11"
</manipulate>
                  <call xmlns="http://cpee.org/ns/description/1.0" id="inner_0_0__simple_operation__http___localhost_9290_groups_Interface__Sub2_Serv1__s1_op1" endpoint="inner_0_0__simple_operation__http___localhost_9290_groups_Interface__Sub2_Serv1__ep" oid="">
                    <parameters>
                      <method>post</method>
                      <parameters>
                        <timeout>context.inner</timeout>
                      </parameters>
                    </parameters>
                  </call>
                  <manipulate xmlns="http://cpee.org/ns/description/1.0" id="inner_0_0__simple_operation__http___localhost_9290_groups_Interface__Sub2_Serv1__set_output">
          out = 2
        context.result_inner_0_0[:"http://localhost:9290/groups/Interface//Sub2/Serv1"][:simple_output] = out
</manipulate>
                  <manipulate generated="true" id="remove_objects_of_inner_0_0__simple_operation_service_http___localhost_9290_groups_Interface__Sub2_Serv1">              endpoints.delete(:"inner_0_0__simple_operation__http___localhost_9290_groups_Interface__Sub2_Serv1__ep")
              context.delete(:"inner_0_0__simple_operation__http___localhost_9290_groups_Interface__Sub2_Serv1__wait")
</manipulate>
                </parallel_branch>
              </parallel>
            </group>
            <manipulate output="result" id="manipulate_from_inner_0_0__simple_operation" context="context.result_inner_0_0" properties="context.properties_inner_0_0">context.result_inner_0_0[:simple_class_output] = result.value('simple_output')
</manipulate>
          </group>
          <manipulate output="result" id="manipulate_from_inner_0_0" context="context.result_inner_0_0" properties="context.properties_inner_0_0">
            result.value('simple_class_output').each { |value| context.count += value}
          </manipulate>
          <manipulate generated="true" id="remove_objects_of_inner_0_0">    context.delete(:"properties_inner_0_0")
    context.delete(:"result_inner_0_0")
</manipulate>
          <manipulate xmlns="http://cpee.org/ns/description/1.0" id="reduce_inner_0_0">
          context.inner -= 1
        </manipulate>
          <call xmlns="http://cpee.org/ns/description/1.0" id="native_0_0" endpoint="timeout">
            <parameters>
              <method>post</method>
              <parameters>
                <wait type="symbolic">context.count</wait>
              </parameters>
            </parameters>
          </call>
        </group>
        <loop xmlns="http://cpee.org/ns/description/1.0" pre_test="context.inner &gt; 0">
          <call id="inner_0" endpoint="services">
            <parameters>
              <service>
                <serviceoperation>"simple"</serviceoperation>
                <injection_handler>endpoints.injection</injection_handler>
              </service>
              <parameters>
                <wait type="symbolic">context.inner</wait>
              </parameters>
            </parameters>
            <manipulate output="result">
            result.value('simple_class_output').each { |value| context.count += value}
          </manipulate>
            <group type="injection" serviceoperation="&quot;simple&quot;" source="inner" result="context.result_inner" properties="context.properties_inner"/>
          </call>
          <manipulate id="reduce_inner_0">
          context.inner -= 1
        </manipulate>
          <call id="native_0" endpoint="timeout">
            <parameters>
              <method>post</method>
              <parameters>
                <wait type="symbolic">context.count</wait>
              </parameters>
            </parameters>
          </call>
        </loop>
        <manipulate xmlns="http://cpee.org/ns/description/1.0" id="reduce_outer_0">
        context.outer -= 1
        context.inner = 2
      </manipulate>
      </group>
      <group type="loop" cycle="1" source="inner">
        <call xmlns="http://cpee.org/ns/description/1.0" id="outer_1" endpoint="timeout">
          <parameters>
            <method>post</method>
            <parameters>
              <wait type="symbolic">context.count</wait>
            </parameters>
          </parameters>
        </call>
        <group type="loop" cycle="0" source="inner_1">
          <call xmlns="http://cpee.org/ns/description/1.0" id="inner_1_0" endpoint="services">
            <parameters>
              <service>
                <serviceoperation>"simple"</serviceoperation>
                <injection_handler>endpoints.injection</injection_handler>
              </service>
              <parameters>
                <wait type="symbolic">context.inner</wait>
              </parameters>
            </parameters>
            <group type="injection" serviceoperation="&quot;simple&quot;" source="inner" result="context.result_inner_0" properties="context.properties_inner_0"/>
            <group type="injection" serviceoperation="&quot;simple&quot;" source="inner" result="context.result_inner" properties="context.properties_inner"/>
            <group type="injection" serviceoperation="&quot;simple&quot;" source="inner_1" result="context.result_inner_1" properties="context.properties_inner_1"/>
          </call>
          <group type="injection" serviceoperation="&quot;simple&quot;" source="inner_1" result="context.result_inner_1_0" properties="context.properties_inner_1_0">
            <manipulate generated="true" id="create_objects_for_inner_1_0">      context.properties_inner_1_0 = RescueHash.new
      context.properties_inner_1_0[:"simple_operation"] = RescueHash.new
      context.result_inner_1_0 = RescueHash.new
</manipulate>
            <call xmlns="http://cpee.org/ns/description/1.0" id="inner_1_0__simple_operation" endpoint="services" oid="simple_operation">
              <parameters>
                <service>
                  <serviceoperation>"simple"</serviceoperation>
                  <injection_handler>endpoints.injection</injection_handler>
                </service>
                <parameters>
                  <wait>context.inner</wait>
                </parameters>
              </parameters>
            </call>
            <group type="injection" serviceoperation="&quot;simple&quot;" source="inner_1_0__simple_operation" properties="context.properties_inner_1_0[:&quot;simple_operation&quot;]">
              <parallel generated="true">
                <parallel_branch generated="true">
                  <manipulate generated="true" id="create_objects_for_inner_1_0__simple_operation_service_http___localhost_9290_groups_Interface__Sub1_Serv1">              context.result_inner_1_0[:"http://localhost:9290/groups/Interface//Sub1/Serv1"] = RescueHash.new
              endpoints.inner_1_0__simple_operation__http___localhost_9290_groups_Interface__Sub1_Serv1__ep = "http://www.pri.univie.ac.at/~mangler/services/timeout.php"
              context.inner_1_0__simple_operation__http___localhost_9290_groups_Interface__Sub1_Serv1__wait = 2
              # Filling the properties-object of the service
              context.properties_inner_1_0[:"simple_operation"][:"http://localhost:9290/groups/Interface//Sub1/Serv1"] = RescueHash.new
              context.properties_inner_1_0[:"simple_operation"][:"http://localhost:9290/groups/Interface//Sub1/Serv1"][:"property_A"] = "17"
              context.properties_inner_1_0[:"simple_operation"][:"http://localhost:9290/groups/Interface//Sub1/Serv1"][:"property_B"] = "47"
              context.properties_inner_1_0[:"simple_operation"][:"http://localhost:9290/groups/Interface//Sub1/Serv1"][:"property_C"] = "11"
</manipulate>
                  <call xmlns="http://cpee.org/ns/description/1.0" id="inner_1_0__simple_operation__http___localhost_9290_groups_Interface__Sub1_Serv1__s1_op1" endpoint="inner_1_0__simple_operation__http___localhost_9290_groups_Interface__Sub1_Serv1__ep" oid="">
                    <parameters>
                      <method>post</method>
                      <parameters>
                        <timeout>context.inner</timeout>
                      </parameters>
                    </parameters>
                  </call>
                  <manipulate xmlns="http://cpee.org/ns/description/1.0" id="inner_1_0__simple_operation__http___localhost_9290_groups_Interface__Sub1_Serv1__set_output">
          out = 2
        context.result_inner_1_0[:"http://localhost:9290/groups/Interface//Sub1/Serv1"][:simple_output] = out
</manipulate>
                  <manipulate generated="true" id="remove_objects_of_inner_1_0__simple_operation_service_http___localhost_9290_groups_Interface__Sub1_Serv1">              endpoints.delete(:"inner_1_0__simple_operation__http___localhost_9290_groups_Interface__Sub1_Serv1__ep")
              context.delete(:"inner_1_0__simple_operation__http___localhost_9290_groups_Interface__Sub1_Serv1__wait")
</manipulate>
                </parallel_branch>
                <parallel_branch generated="true">
                  <manipulate generated="true" id="create_objects_for_inner_1_0__simple_operation_service_http___localhost_9290_groups_Interface__Sub2_Serv1">              context.result_inner_1_0[:"http://localhost:9290/groups/Interface//Sub2/Serv1"] = RescueHash.new
              endpoints.inner_1_0__simple_operation__http___localhost_9290_groups_Interface__Sub2_Serv1__ep = "http://www.pri.univie.ac.at/~mangler/services/timeout.php"
              context.inner_1_0__simple_operation__http___localhost_9290_groups_Interface__Sub2_Serv1__wait = 2
              # Filling the properties-object of the service
              context.properties_inner_1_0[:"simple_operation"][:"http://localhost:9290/groups/Interface//Sub2/Serv1"] = RescueHash.new
              context.properties_inner_1_0[:"simple_operation"][:"http://localhost:9290/groups/Interface//Sub2/Serv1"][:"property_A"] = "71"
              context.properties_inner_1_0[:"simple_operation"][:"http://localhost:9290/groups/Interface//Sub2/Serv1"][:"property_B"] = "74"
              context.properties_inner_1_0[:"simple_operation"][:"http://localhost:9290/groups/Interface//Sub2/Serv1"][:"property_C"] = "11"
</manipulate>
                  <call xmlns="http://cpee.org/ns/description/1.0" id="inner_1_0__simple_operation__http___localhost_9290_groups_Interface__Sub2_Serv1__s1_op1" endpoint="inner_1_0__simple_operation__http___localhost_9290_groups_Interface__Sub2_Serv1__ep" oid="">
                    <parameters>
                      <method>post</method>
                      <parameters>
                        <timeout>context.inner</timeout>
                      </parameters>
                    </parameters>
                  </call>
                  <manipulate xmlns="http://cpee.org/ns/description/1.0" id="inner_1_0__simple_operation__http___localhost_9290_groups_Interface__Sub2_Serv1__set_output">
          out = 2
        context.result_inner_1_0[:"http://localhost:9290/groups/Interface//Sub2/Serv1"][:simple_output] = out
</manipulate>
                  <manipulate generated="true" id="remove_objects_of_inner_1_0__simple_operation_service_http___localhost_9290_groups_Interface__Sub2_Serv1">              endpoints.delete(:"inner_1_0__simple_operation__http___localhost_9290_groups_Interface__Sub2_Serv1__ep")
              context.delete(:"inner_1_0__simple_operation__http___localhost_9290_groups_Interface__Sub2_Serv1__wait")
</manipulate>
                </parallel_branch>
              </parallel>
            </group>
            <manipulate output="result" id="manipulate_from_inner_1_0__simple_operation" context="context.result_inner_1_0" properties="context.properties_inner_1_0">context.result_inner_1_0[:simple_class_output] = result.value('simple_output')
</manipulate>
          </group>
          <manipulate output="result" id="manipulate_from_inner_1_0" context="context.result_inner_1_0" properties="context.properties_inner_1_0">
            result.value('simple_class_output').each { |value| context.count += value}
          </manipulate>
          <manipulate generated="true" id="remove_objects_of_inner_1_0">    context.delete(:"properties_inner_1_0")
    context.delete(:"result_inner_1_0")
</manipulate>
          <manipulate xmlns="http://cpee.org/ns/description/1.0" id="reduce_inner_1_0">
          context.inner -= 1
        </manipulate>
          <call xmlns="http://cpee.org/ns/description/1.0" id="native_1_0" endpoint="timeout">
            <parameters>
              <method>post</method>
              <parameters>
                <wait type="symbolic">context.count</wait>
              </parameters>
            </parameters>
          </call>
        </group>
        <group type="loop" cycle="1" source="inner_1">
          <call xmlns="http://cpee.org/ns/description/1.0" id="inner_1_1" endpoint="services">
            <parameters>
              <service>
                <serviceoperation>"simple"</serviceoperation>
                <injection_handler>endpoints.injection</injection_handler>
              </service>
              <parameters>
                <wait type="symbolic">context.inner</wait>
              </parameters>
            </parameters>
            <group type="injection" serviceoperation="&quot;simple&quot;" source="inner" result="context.result_inner_0" properties="context.properties_inner_0"/>
            <group type="injection" serviceoperation="&quot;simple&quot;" source="inner" result="context.result_inner" properties="context.properties_inner"/>
            <group type="injection" serviceoperation="&quot;simple&quot;" source="inner_1" result="context.result_inner_1" properties="context.properties_inner_1"/>
          </call>
          <group type="injection" serviceoperation="&quot;simple&quot;" source="inner_1" result="context.result_inner_1_1" properties="context.properties_inner_1_1">
            <manipulate generated="true" id="create_objects_for_inner_1_1">      context.properties_inner_1_1 = RescueHash.new
      context.properties_inner_1_1[:"simple_operation"] = RescueHash.new
      context.result_inner_1_1 = RescueHash.new
</manipulate>
            <call xmlns="http://cpee.org/ns/description/1.0" id="inner_1_1__simple_operation" endpoint="services" oid="simple_operation">
              <parameters>
                <service>
                  <serviceoperation>"simple"</serviceoperation>
                  <injection_handler>endpoints.injection</injection_handler>
                </service>
                <parameters>
                  <wait>context.inner</wait>
                </parameters>
              </parameters>
            </call>
            <group type="injection" serviceoperation="&quot;simple&quot;" source="inner_1_1__simple_operation" properties="context.properties_inner_1_1[:&quot;simple_operation&quot;]">
              <parallel generated="true">
                <parallel_branch generated="true">
                  <manipulate generated="true" id="create_objects_for_inner_1_1__simple_operation_service_http___localhost_9290_groups_Interface__Sub1_Serv1">              context.result_inner_1_1[:"http://localhost:9290/groups/Interface//Sub1/Serv1"] = RescueHash.new
              endpoints.inner_1_1__simple_operation__http___localhost_9290_groups_Interface__Sub1_Serv1__ep = "http://www.pri.univie.ac.at/~mangler/services/timeout.php"
              context.inner_1_1__simple_operation__http___localhost_9290_groups_Interface__Sub1_Serv1__wait = 2
              # Filling the properties-object of the service
              context.properties_inner_1_1[:"simple_operation"][:"http://localhost:9290/groups/Interface//Sub1/Serv1"] = RescueHash.new
              context.properties_inner_1_1[:"simple_operation"][:"http://localhost:9290/groups/Interface//Sub1/Serv1"][:"property_A"] = "17"
              context.properties_inner_1_1[:"simple_operation"][:"http://localhost:9290/groups/Interface//Sub1/Serv1"][:"property_B"] = "47"
              context.properties_inner_1_1[:"simple_operation"][:"http://localhost:9290/groups/Interface//Sub1/Serv1"][:"property_C"] = "11"
</manipulate>
                  <call xmlns="http://cpee.org/ns/description/1.0" id="inner_1_1__simple_operation__http___localhost_9290_groups_Interface__Sub1_Serv1__s1_op1" endpoint="inner_1_1__simple_operation__http___localhost_9290_groups_Interface__Sub1_Serv1__ep" oid="">
                    <parameters>
                      <method>post</method>
                      <parameters>
                        <timeout>context.inner</timeout>
                      </parameters>
                    </parameters>
                  </call>
                  <manipulate xmlns="http://cpee.org/ns/description/1.0" id="inner_1_1__simple_operation__http___localhost_9290_groups_Interface__Sub1_Serv1__set_output">
          out = 2
        context.result_inner_1_1[:"http://localhost:9290/groups/Interface//Sub1/Serv1"][:simple_output] = out
</manipulate>
                  <manipulate generated="true" id="remove_objects_of_inner_1_1__simple_operation_service_http___localhost_9290_groups_Interface__Sub1_Serv1">              endpoints.delete(:"inner_1_1__simple_operation__http___localhost_9290_groups_Interface__Sub1_Serv1__ep")
              context.delete(:"inner_1_1__simple_operation__http___localhost_9290_groups_Interface__Sub1_Serv1__wait")
</manipulate>
                </parallel_branch>
                <parallel_branch generated="true">
                  <manipulate generated="true" id="create_objects_for_inner_1_1__simple_operation_service_http___localhost_9290_groups_Interface__Sub2_Serv1">              context.result_inner_1_1[:"http://localhost:9290/groups/Interface//Sub2/Serv1"] = RescueHash.new
              endpoints.inner_1_1__simple_operation__http___localhost_9290_groups_Interface__Sub2_Serv1__ep = "http://www.pri.univie.ac.at/~mangler/services/timeout.php"
              context.inner_1_1__simple_operation__http___localhost_9290_groups_Interface__Sub2_Serv1__wait = 2
              # Filling the properties-object of the service
              context.properties_inner_1_1[:"simple_operation"][:"http://localhost:9290/groups/Interface//Sub2/Serv1"] = RescueHash.new
              context.properties_inner_1_1[:"simple_operation"][:"http://localhost:9290/groups/Interface//Sub2/Serv1"][:"property_A"] = "71"
              context.properties_inner_1_1[:"simple_operation"][:"http://localhost:9290/groups/Interface//Sub2/Serv1"][:"property_B"] = "74"
              context.properties_inner_1_1[:"simple_operation"][:"http://localhost:9290/groups/Interface//Sub2/Serv1"][:"property_C"] = "11"
</manipulate>
                  <call xmlns="http://cpee.org/ns/description/1.0" id="inner_1_1__simple_operation__http___localhost_9290_groups_Interface__Sub2_Serv1__s1_op1" endpoint="inner_1_1__simple_operation__http___localhost_9290_groups_Interface__Sub2_Serv1__ep" oid="">
                    <parameters>
                      <method>post</method>
                      <parameters>
                        <timeout>context.inner</timeout>
                      </parameters>
                    </parameters>
                  </call>
                  <manipulate xmlns="http://cpee.org/ns/description/1.0" id="inner_1_1__simple_operation__http___localhost_9290_groups_Interface__Sub2_Serv1__set_output">
          out = 2
        context.result_inner_1_1[:"http://localhost:9290/groups/Interface//Sub2/Serv1"][:simple_output] = out
</manipulate>
                  <manipulate generated="true" id="remove_objects_of_inner_1_1__simple_operation_service_http___localhost_9290_groups_Interface__Sub2_Serv1">              endpoints.delete(:"inner_1_1__simple_operation__http___localhost_9290_groups_Interface__Sub2_Serv1__ep")
              context.delete(:"inner_1_1__simple_operation__http___localhost_9290_groups_Interface__Sub2_Serv1__wait")
</manipulate>
                </parallel_branch>
              </parallel>
            </group>
            <manipulate output="result" id="manipulate_from_inner_1_1__simple_operation" context="context.result_inner_1_1" properties="context.properties_inner_1_1">context.result_inner_1_1[:simple_class_output] = result.value('simple_output')
</manipulate>
          </group>
          <manipulate output="result" id="manipulate_from_inner_1_1" context="context.result_inner_1_1" properties="context.properties_inner_1_1">
            result.value('simple_class_output').each { |value| context.count += value}
          </manipulate>
          <manipulate generated="true" id="remove_objects_of_inner_1_1">    context.delete(:"properties_inner_1_1")
    context.delete(:"result_inner_1_1")
</manipulate>
          <manipulate xmlns="http://cpee.org/ns/description/1.0" id="reduce_inner_1_1">
          context.inner -= 1
        </manipulate>
          <call xmlns="http://cpee.org/ns/description/1.0" id="native_1_1" endpoint="timeout">
            <parameters>
              <method>post</method>
              <parameters>
                <wait type="symbolic">context.count</wait>
              </parameters>
            </parameters>
          </call>
        </group>
        <loop xmlns="http://cpee.org/ns/description/1.0" pre_test="context.inner &gt; 0">
          <call id="inner_1" endpoint="services">
            <parameters>
              <service>
                <serviceoperation>"simple"</serviceoperation>
                <injection_handler>endpoints.injection</injection_handler>
              </service>
              <parameters>
                <wait type="symbolic">context.inner</wait>
              </parameters>
            </parameters>
            <manipulate output="result">
            result.value('simple_class_output').each { |value| context.count += value}
          </manipulate>
            <group type="injection" serviceoperation="&quot;simple&quot;" source="inner" result="context.result_inner_0" properties="context.properties_inner_0"/>
            <group type="injection" serviceoperation="&quot;simple&quot;" source="inner" result="context.result_inner" properties="context.properties_inner"/>
          </call>
          <manipulate id="reduce_inner_1">
          context.inner -= 1
        </manipulate>
          <call id="native_1" endpoint="timeout">
            <parameters>
              <method>post</method>
              <parameters>
                <wait type="symbolic">context.count</wait>
              </parameters>
            </parameters>
          </call>
        </loop>
        <manipulate xmlns="http://cpee.org/ns/description/1.0" id="reduce_outer_1">
        context.outer -= 1
        context.inner = 2
      </manipulate>
      </group>
      <loop pre_test="context.outer &gt; 0">
        <call id="outer" endpoint="timeout">
          <parameters>
            <method>post</method>
            <parameters>
              <wait type="symbolic">context.count</wait>
            </parameters>
          </parameters>
        </call>
        <loop pre_test="context.inner &gt; 0">
          <call id="inner" endpoint="services">
            <parameters>
              <service>
                <serviceoperation>"simple"</serviceoperation>
                <injection_handler>endpoints.injection</injection_handler>
              </service>
              <parameters>
                <wait type="symbolic">context.inner</wait>
              </parameters>
            </parameters>
            <manipulate output="result">
            result.value('simple_class_output').each { |value| context.count += value}
          </manipulate>
            <group type="injection" serviceoperation="&quot;simple&quot;" source="inner" result="context.result_inner_0" properties="context.properties_inner_0"/>
            <group type="injection" serviceoperation="&quot;simple&quot;" source="inner" result="context.result_inner_1" properties="context.properties_inner_1"/>
          </call>
          <manipulate id="reduce_inner">
          context.inner -= 1
        </manipulate>
          <call id="native" endpoint="timeout">
            <parameters>
              <method>post</method>
              <parameters>
                <wait type="symbolic">context.count</wait>
              </parameters>
            </parameters>
          </call>
        </loop>
        <manipulate id="reduce_outer">
        context.outer -= 1
        context.inner = 2
      </manipulate>
      </loop>
      <call id="loop" endpoint="services">
        <parameters>
          <service>
            <serviceoperation>"loop"</serviceoperation>
            <injection_handler>endpoints.injection</injection_handler>
          </service>
          <parameters>
            <wait type="symbolic">context.inner</wait>
          </parameters>
        </parameters>
        <manipulate output="result">
        result.value('counted_loop').each { |value| context.count += value}
      </manipulate>
      </call>
    </description>
  </description>
  <transformation xmlns="http://riddl.org/ns/common-patterns/properties/1.0">
    <xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:d="http://cpee.org/ns/description/1.0" version="1.0">
      <xsl:output method="text"/>
      <xsl:strip-space elements="*"/>
      <xsl:variable name="myspacemultiplier">2</xsl:variable>
      <xsl:template match="/">
        <xsl:apply-templates select="//d:description"/>
      </xsl:template>
      <xsl:template match="//d:description">
        <xsl:apply-templates>
          <xsl:with-param name="myspace">
            <xsl:value-of select="-1*$myspacemultiplier"/>
          </xsl:with-param>
        </xsl:apply-templates>
      </xsl:template>
      <xsl:template match="*">
        <xsl:param name="myspace"/>
        <xsl:call-template name="print-space">
          <xsl:with-param name="i">1</xsl:with-param>
          <xsl:with-param name="count">
            <xsl:value-of select="$myspace+$myspacemultiplier"/>
          </xsl:with-param>
        </xsl:call-template>
        <xsl:if test="name()='call' or name()='manipulate'">
          <xsl:choose>
            <xsl:when test="@lay">
              <xsl:text>activity [:</xsl:text>
              <xsl:value-of select="@id"/>
              <xsl:text>,</xsl:text>
              <xsl:value-of select="@lay"/>
              <xsl:text>]</xsl:text>
            </xsl:when>
            <xsl:otherwise>
              <xsl:text>activity :</xsl:text>
              <xsl:value-of select="@id"/>
            </xsl:otherwise>
          </xsl:choose>
        </xsl:if>
        <xsl:if test="name()='call'">
          <xsl:text>, :call, :</xsl:text>
          <xsl:value-of select="@endpoint"/>
          <xsl:apply-templates select="d:parameters"/>
          <xsl:apply-templates select="d:manipulate" mode="part-of-call">
            <xsl:with-param name="myspace">
              <xsl:value-of select="$myspace"/>
            </xsl:with-param>
          </xsl:apply-templates>
          <xsl:call-template name="print-newline"/>
        </xsl:if>
        <xsl:if test="name()='manipulate'">
          <xsl:text>, :manipulate</xsl:text>
          <!-- RESCUE: manipulate with context-variable as result object -->
          <xsl:if test="@context">
            <xsl:text>, nil,</xsl:text>
            <xsl:value-of select="@context"/>
          </xsl:if>
          <xsl:if test="@properties">
            <xsl:text>,</xsl:text>
            <xsl:value-of select="@properties"/>
          </xsl:if>
          <!-- RESCUE -->
          <xsl:call-template name="print-content">
            <xsl:with-param name="myspace">
              <xsl:value-of select="$myspace"/>
            </xsl:with-param>
          </xsl:call-template>
          <xsl:call-template name="print-newline"/>
        </xsl:if>
        <xsl:if test="name()='parallel'">
          <xsl:text>parallel</xsl:text>
          <xsl:if test="@wait">
            <xsl:text> :wait =&gt; </xsl:text>
            <xsl:value-of select="@wait"/>
          </xsl:if>
          <xsl:text> do</xsl:text>
          <xsl:call-template name="print-newline"/>
          <xsl:apply-templates>
            <xsl:with-param name="myspace">
              <xsl:value-of select="$myspace+$myspacemultiplier"/>
            </xsl:with-param>
          </xsl:apply-templates>
          <xsl:call-template name="print-space">
            <xsl:with-param name="i">1</xsl:with-param>
            <xsl:with-param name="count">
              <xsl:value-of select="$myspace+$myspacemultiplier"/>
            </xsl:with-param>
          </xsl:call-template>
          <xsl:text>end</xsl:text>
          <xsl:call-template name="print-newline"/>
        </xsl:if>
        <xsl:if test="name()='loop'">
          <xsl:text>loop </xsl:text>
          <xsl:if test="@pre_test">
            <xsl:text>pre_test{</xsl:text>
            <xsl:value-of select="@pre_test"/>
            <xsl:text>} </xsl:text>
          </xsl:if>
          <xsl:if test="@post_test">
            <xsl:text>post_test{</xsl:text>
            <xsl:value-of select="@post_test"/>
            <xsl:text>} </xsl:text>
          </xsl:if>
          <xsl:text>do</xsl:text>
          <xsl:call-template name="print-newline"/>
          <xsl:apply-templates>
            <xsl:with-param name="myspace">
              <xsl:value-of select="$myspace+$myspacemultiplier"/>
            </xsl:with-param>
          </xsl:apply-templates>
          <xsl:call-template name="print-space">
            <xsl:with-param name="i">1</xsl:with-param>
            <xsl:with-param name="count">
              <xsl:value-of select="$myspace+$myspacemultiplier"/>
            </xsl:with-param>
          </xsl:call-template>
          <xsl:text>end</xsl:text>
          <xsl:call-template name="print-newline"/>
        </xsl:if>
        <xsl:if test="name()='choose'">
          <xsl:text>choose do</xsl:text>
          <xsl:call-template name="print-newline"/>
          <xsl:apply-templates>
            <xsl:with-param name="myspace">
              <xsl:value-of select="$myspace+$myspacemultiplier"/>
            </xsl:with-param>
          </xsl:apply-templates>
          <xsl:call-template name="print-space">
            <xsl:with-param name="i">1</xsl:with-param>
            <xsl:with-param name="count">
              <xsl:value-of select="$myspace+$myspacemultiplier"/>
            </xsl:with-param>
          </xsl:call-template>
          <xsl:text>end</xsl:text>
          <xsl:call-template name="print-newline"/>
        </xsl:if>
        <!-- RESCUE -->
        <xsl:if test="name()='group'">
          <xsl:text># ========== Code was injected via: </xsl:text>
          <xsl:value-of select="@source"/>
          <xsl:text>==========</xsl:text>
          <xsl:call-template name="print-newline"/>
          <xsl:apply-templates>
            <xsl:with-param name="myspace">
              <xsl:value-of select="$myspace+$myspacemultiplier"/>
            </xsl:with-param>
          </xsl:apply-templates>
          <xsl:call-template name="print-newline"/>
          <xsl:text># ========== End of injected code ============ </xsl:text>
          <xsl:call-template name="print-newline"/>
        </xsl:if>
        <!-- RESCUE -->
      </xsl:template>
      <xsl:template match="d:alternative">
        <xsl:param name="myspace"/>
        <xsl:call-template name="print-space">
          <xsl:with-param name="i">1</xsl:with-param>
          <xsl:with-param name="count">
            <xsl:value-of select="$myspace+$myspacemultiplier"/>
          </xsl:with-param>
        </xsl:call-template>
        <xsl:text>alternative </xsl:text>
        <xsl:value-of select="@condition"/>
        <xsl:text> do</xsl:text>
        <xsl:call-template name="print-newline"/>
        <xsl:apply-templates>
          <xsl:with-param name="myspace">
            <xsl:value-of select="$myspace+$myspacemultiplier"/>
          </xsl:with-param>
        </xsl:apply-templates>
        <xsl:call-template name="print-space">
          <xsl:with-param name="i">1</xsl:with-param>
          <xsl:with-param name="count">
            <xsl:value-of select="$myspace+$myspacemultiplier"/>
          </xsl:with-param>
        </xsl:call-template>
        <xsl:text>end</xsl:text>
        <xsl:call-template name="print-newline"/>
      </xsl:template>
      <xsl:template match="d:otherwise">
        <xsl:param name="myspace"/>
        <xsl:call-template name="print-space">
          <xsl:with-param name="i">1</xsl:with-param>
          <xsl:with-param name="count">
            <xsl:value-of select="$myspace+$myspacemultiplier"/>
          </xsl:with-param>
        </xsl:call-template>
        <xsl:text>otherwise do</xsl:text>
        <xsl:call-template name="print-newline"/>
        <xsl:apply-templates>
          <xsl:with-param name="myspace">
            <xsl:value-of select="$myspace+$myspacemultiplier"/>
          </xsl:with-param>
        </xsl:apply-templates>
        <xsl:call-template name="print-space">
          <xsl:with-param name="i">1</xsl:with-param>
          <xsl:with-param name="count">
            <xsl:value-of select="$myspace+$myspacemultiplier"/>
          </xsl:with-param>
        </xsl:call-template>
        <xsl:text>end</xsl:text>
        <xsl:call-template name="print-newline"/>
      </xsl:template>
      <xsl:template match="d:parallel_branch">
        <xsl:param name="myspace"/>
        <xsl:call-template name="print-space">
          <xsl:with-param name="i">1</xsl:with-param>
          <xsl:with-param name="count">
            <xsl:value-of select="$myspace+$myspacemultiplier"/>
          </xsl:with-param>
        </xsl:call-template>
        <xsl:text>parallel_branch</xsl:text>
        <xsl:if test="@pass">
          <xsl:text> </xsl:text>
          <xsl:value-of select="@pass"/>
        </xsl:if>
        <xsl:text> do</xsl:text>
        <xsl:if test="@local">
          <xsl:text> |</xsl:text>
          <xsl:value-of select="@local"/>
          <xsl:text>|</xsl:text>
        </xsl:if>
        <xsl:call-template name="print-newline"/>
        <xsl:apply-templates>
          <xsl:with-param name="myspace">
            <xsl:value-of select="$myspace+$myspacemultiplier"/>
          </xsl:with-param>
        </xsl:apply-templates>
        <xsl:call-template name="print-space">
          <xsl:with-param name="i">1</xsl:with-param>
          <xsl:with-param name="count">
            <xsl:value-of select="$myspace+$myspacemultiplier"/>
          </xsl:with-param>
        </xsl:call-template>
        <xsl:text>end</xsl:text>
        <xsl:call-template name="print-newline"/>
      </xsl:template>
      <xsl:template match="d:parameters">
        <xsl:apply-templates select="d:*" mode="parameter"/>
      </xsl:template>
      <xsl:template match="d:*" mode="parameter">
        <xsl:text>, :</xsl:text>
        <xsl:value-of select="name()"/>
        <xsl:text> =&gt; </xsl:text>
        <xsl:choose>
          <xsl:when test="count(*) &gt; 0">
            <xsl:text>[</xsl:text>
            <xsl:apply-templates select="d:*" mode="sub-parameter"/>
            <xsl:text>]</xsl:text>
          </xsl:when>
          <xsl:otherwise>
            <xsl:text>"</xsl:text>
            <xsl:value-of select="text()"/>
            <xsl:text>"</xsl:text>
          </xsl:otherwise>
        </xsl:choose>
      </xsl:template>
      <xsl:template match="d:*" mode="sub-parameter">
        <xsl:text> { :</xsl:text>
        <xsl:value-of select="name()"/>
        <xsl:text> =&gt; </xsl:text>
        <xsl:value-of select="text()"/>
        <xsl:text> }</xsl:text>
        <xsl:choose>
          <xsl:when test=". = ../*[last()]">
            <xsl:text> </xsl:text>
          </xsl:when>
          <xsl:otherwise>
            <xsl:text>,</xsl:text>
          </xsl:otherwise>
        </xsl:choose>
      </xsl:template>
      <xsl:template match="d:manipulate" mode="part-of-call">
        <xsl:param name="myspace"/>
        <xsl:call-template name="print-content">
          <xsl:with-param name="myspace">
            <xsl:value-of select="$myspace"/>
          </xsl:with-param>
        </xsl:call-template>
      </xsl:template>
      <xsl:template name="print-content">
        <xsl:param name="myspace"/>
        <xsl:if test="text()">
          <xsl:text> do </xsl:text>
          <xsl:if test="@output">
            <xsl:text>|</xsl:text>
            <xsl:value-of select="@output"/>
            <xsl:if test="@properties">
              <xsl:text>, properties</xsl:text>
            </xsl:if>
            <xsl:text>|</xsl:text>
          </xsl:if>
          <xsl:call-template name="print-newline"/>
          <xsl:value-of select="text()"/>
          <xsl:call-template name="print-newline"/>
          <xsl:call-template name="print-space">
            <xsl:with-param name="i">1</xsl:with-param>
            <xsl:with-param name="count">
              <xsl:value-of select="$myspace+$myspacemultiplier"/>
            </xsl:with-param>
          </xsl:call-template>
          <xsl:text>end</xsl:text>
        </xsl:if>
      </xsl:template>
      <xsl:template name="print-space">
        <xsl:param name="i"/>
        <xsl:param name="count"/>
        <xsl:if test="$i &lt;= $count">
          <xsl:text> </xsl:text>
          <xsl:call-template name="print-space">
            <xsl:with-param name="i">
              <xsl:value-of select="$i + 1"/>
            </xsl:with-param>
            <xsl:with-param name="count">
              <xsl:value-of select="$count"/>
            </xsl:with-param>
          </xsl:call-template>
        </xsl:if>
      </xsl:template>
      <xsl:template name="print-newline">
        <xsl:text>
</xsl:text>
      </xsl:template>
    </xsl:stylesheet>
  </transformation>
</properties>
