<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
  <head>
    <title>WEE - Index</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <link rel="stylesheet" href="index.css" type="text/css"/>
    <script src="http://jqueryjs.googlecode.com/files/jquery-1.3.2.min.js" type="text/javascript"></script>
  </head>
  <body>
    <script type="text/javascript">
        function makeFlightInstance() {
            // Fetch the url of the wee-riddle
            $.ajax({
              type: "GET", cache: false,
              url: "remote",
              success: function(wee_url){
                // create a new instance and add a link
                console.log("calling: "+wee_url);
                $.ajax({
                  type: "PUT", cache: false,
                  url: wee_url,
                  success: function(instance_id){
                    console.log("Got instance_id: "+instance_id);
                    $("#div_instances").innerHTML += "<a href=\""+instance_id+"/\">Go to instance "+instance_id+"</a>";
                  }
                });
              }
            });            
        }
    </script>
    <h1>WorkflowExecutionEngine - Demo</h1>
    <table>
        <tr>
            <td>
                Book Flight & Hotel
            </td>
            <td>
                <button type="button" id="btn_book" onclick="makeFlightInstance()">New Instance</button>
                <div id="div_instances"></div>
            </td>
        </tr>
        <tr>
            <td>
                Pay Wages
            </td>
            <td>
                <button type="button" id="btn_book">New Instance</button>
            </td>
        </tr>
        <tr>
            <td>
                New Customer Order
            </td>
            <td>
                <button type="button" id="btn_book">New Instance</button>
            </td>
        </tr>
    </table>
    <textarea id="txt_log" cols="100" rows="20">Log</textarea>
  </body>
</html>
